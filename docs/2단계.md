# 2단계: Order Service 구현

## 요구사항

### 기본 설정
- **포트**: `8083`
- **데이터베이스**: H2 (인메모리)
- **Base URL**: `/api/orders`

### 주문 엔티티
다음 필드를 가진 Order 엔티티 구현:
- `id` (Long, 자동증가)
- `productId` (Long, 필수) - 상품 ID
- `quantity` (Integer, 필수) - 주문 수량
- `totalPrice` (Integer, 필수) - 총 가격
- `status` (String, 필수) - 주문 상태 (PENDING, COMPLETED, CANCELLED)

### API 엔드포인트
구현해야 할 REST API:

| 메서드 | URL | 설명 |
|--------|-----|------|
| GET | `/api/orders` | 모든 주문 조회 |
| GET | `/api/orders/{id}` | 특정 주문 조회 |
| POST | `/api/orders` | 새 주문 생성 |
| PUT | `/api/orders/{id}/cancel` | 주문 취소 |

### 서비스 간 통신
- **Product Service 호출**: 주문 생성 시 상품 정보 조회
- **호출 URL**: `http://localhost:8082/api/products/{productId}`
- **사용 기술**: `RestTemplate` 또는 `WebClient`

### 주문 생성 로직
1. Product Service에서 상품 정보 조회
2. 상품 존재 여부 확인
3. 재고 충분한지 확인 (product.stock >= order.quantity)
4. 총 가격 계산 (product.price * order.quantity)
5. 주문 저장

### 테스트 조건
- 서버 실행 후 `http://localhost:8083/api/orders` 접근 가능
- Product Service(8082)와 Order Service(8083) 동시 실행
- 실제 상품 ID로 주문 생성 테스트

### 완료 기준
- ✅ 서버가 8083 포트에서 정상 실행
- ✅ Product Service와 통신하여 상품 정보 조회
- ✅ 주문 생성 시 재고 검증 로직 동작
- ✅ 모든 API 엔드포인트가 정상 동작

---

**힌트**:
- `RestTemplate` Bean 등록: `@Bean public RestTemplate restTemplate() { return new RestTemplate(); }`
- 서비스 간 호출 실패 시 예외 처리 추가하세요!

준비되면 시작해보세요! 🚀